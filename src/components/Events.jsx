import React,{useRef}from'react';import events from'@/data/events.json';import{formatEventDate}from'@/utils/date';import{motion}from'framer-motion';export default function Events(){const trackRef=useRef(null);const scrollBy=(dir)=>{const el=trackRef.current;if(!el)return;const delta=dir*Math.min(el.clientWidth*.9,880);el.scrollBy({left:delta,behavior:'smooth'})};return(<section id='events' className='py-16 bg-carbon/60 backdrop-blur-sm border-t border-white/10' aria-labelledby='events-title'><div className='max-w-6xl mx-auto px-4'><div className='flex items-end justify-between gap-4'><div><h2 id='events-title' className='text-3xl md:text-4xl font-bold'>Upcoming Events</h2><p className='text-gray-400 mt-2'>Curated nights across Johannesburg — limited capacity.</p></div><div className='hidden md:flex gap-2' role='group' aria-label='Scroll events'><button onClick={()=>scrollBy(-1)} className='px-3 py-2 rounded-full bg-white/10 hover:bg-white/20 border border-white/10'>‹</button><button onClick={()=>scrollBy(1)} className='px-3 py-2 rounded-full bg-white/10 hover:bg-white/20 border border-white/10'>›</button></div></div><div ref={trackRef} id='events-track' className='mt-8 flex gap-6 overflow-x-auto snap-x snap-mandatory pb-4 [-ms-overflow-style:none] [scrollbar-width:none] [&::-webkit-scrollbar]:hidden' role='region' aria-label='Event cards' tabIndex='0' onKeyDown={(e)=>{if(e.key==='ArrowRight')scrollBy(1);if(e.key==='ArrowLeft')scrollBy(-1)}}>{events.map((ev,idx)=><EventCard key={idx}{...ev}/>)}</div></div></section>)}function EventCard({date,title,venue,cta,image}){const{day,mon}=formatEventDate(date);const href=(import.meta.env.VITE_BACKEND_BASE_URL||'')+cta;return(<motion.article whileHover={{y:-6,scale:1.01}} className='snap-start min-w-[85%] sm:min-w-[60%] md:min-w-[420px] lg:min-w-[520px] bg-onyx/80 glass rounded-2xl shadow-soft gradient-ring overflow-hidden'><div className='relative h-56 w-full overflow-hidden'>{image?(<img src={image} alt={title} className='w-full h-full object-cover' loading='lazy'/>):(<div className='w-full h-full bg-gradient-to-br from-violet/30 via-magenta/20 to-onyx'/>) }<div className='absolute top-4 left-4 bg-black/70 rounded-xl px-3 py-2 text-center leading-none'><div className='text-champagne text-xs tracking-wide'>{mon}</div><div className='text-white text-xl font-bold -mt-0.5'>{day}</div></div></div><div className='p-5 flex flex-col gap-2'><h3 className='text-xl font-semibold'>{title}</h3><p className='text-gray-400 text-sm'>{venue}</p><div className='mt-3 flex items-center gap-3'><a href={href} className='px-4 py-2 rounded-full bg-gradient-to-r from-violet to-magenta text-black font-semibold shadow-glow hover:opacity-90 transition'>Get Tickets</a><a href='#vip' className='px-4 py-2 rounded-full bg-white/10 border border-white/10 hover:bg-white/20 transition'>Join VIP</a></div></div></motion.article>)}